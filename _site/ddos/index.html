<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Denial Of Service - e1abrador.io</title>
<meta name="description" content="En este artículo, explico la diferencia entre un ataque Dos y DDoS y como ejecutar un ataque DoS con un ejemplo básico.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="e1abrador.io">
<meta property="og:title" content="Denial Of Service">
<meta property="og:url" content="http://localhost:4000/ddos/">


  <meta property="og:description" content="En este artículo, explico la diferencia entre un ataque Dos y DDoS y como ejecutar un ataque DoS con un ejemplo básico.">



  <meta property="og:image" content="http://localhost:4000/assets/images/dos/logo.jpg">





  <meta property="article:published_time" content="2021-09-03T00:00:00+02:00">





  

  


<link rel="canonical" href="http://localhost:4000/ddos/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Eric Labrador",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="e1abrador.io Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
                
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Home</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/" >Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
    

    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Denial Of Service</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/EricLogo.jpg" alt="Eric Labrador" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Eric Labrador</h3>
    
    
      <p class="author__bio" itemprop="description">
        CyberSecurity Analyst / OSWP / eJPT
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Barcelona</span>
        </li>
      

      

      

      
        <li>
          <a href="mailto:e.l.s.3334@gmail.com">
            <meta itemprop="email" content="e.l.s.3334@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://www.linkedin.com/in/ericlabrador/" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn
          </a>
        </li>
      

      

      

      

      

      
        <li>
          <a href="https://github.com/e1abrador" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://hackthebox.eu/profile/279473/" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-codepen" aria-hidden="true"></i> hackthebox
          </a>
        </li>
      


      



      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Denial Of Service">
    <meta itemprop="description" content="En este artículo, explico la diferencia entre un ataque Dos y DDoS y como ejecutar un ataque DoS con un ejemplo básico.">
    <meta itemprop="datePublished" content="September 03, 2021">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Denial Of Service
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="page__meta">
          
            <i class="fa fa-fw fa-calendar" aria-hidden="true"></i> <time datetime="2021-09-03T00:00:00+02:00">September 03, 2021 </time>&emsp;
          
          
        </p>
        <h2 id="qué-es-un-ataque-de-denegación-de-servicio">¿Qué es un ataque de Denegación de servicio?</h2>

<p>El ataque de <strong>Denegación de Servicio</strong> consiste en inundar de solicitudes un servicio o red para dejarlo inhabilitado contra los usuarios legítimos.</p>

<p>En este artículo hablaremos de 2 tipos de ataques: <strong>DoS</strong> y <strong>DDoS</strong>.</p>

<h2><b>DoS</b></h2>

<p>El ataque DoS és un tipo de ataque (de los muchos que hay) de Denegación de Servicio, en este ataque las peticiones al servidor se ejecutan desde un único ordenador. En caso que el servidor objetivo cuente con algún firewall medianamente bien configurado, en el instante que se envíen X número de peticiones, la IP se bloqueará. Además, para que salga bien, el ordenador atacante tiene que contar con buenos componentes para poder añadir mas “threads” al programa y que se envíen mas peticiones por segundo al servidor.</p>

<h2><b>DDoS</b></h2>

<p>El ataque de DDoS és también un ataque de denegación de servicio, en este caso, las peticiones se envían desde diferentes ordenadores a lo largo de la ciudad/país/continente/mundo, para hacer esto, el atacante hace uso de una BotNet.</p>

<h3><b>BotNet</b></h3>

<p>Una <strong>BotNet</strong> es un conjunto de ordenadores que han sido infectados por un malware y son controlados de forma remota por un atacante, estos ordenadores se conocen también como “Ordenadores Zombies”.
Cuando el atacante crea conveniente, utiliza todos los ordenadores infectados y lanza peticiones a un servidor. De esta forma, dado que las peticiones suelen venir de diferentes IP’s, al servidor se le hace imposible gestionar tantas requests, ya que por mas que se bloquee una IP, seguirán habiendo muchas peticiones por leer por parte del los bots. Cuantos mas ordenadores tenga controlado el atacante, serán mas altas las probabilidades de tumbar el servidor.</p>

<p><strong>Nota:</strong> En este artículo no explicaré como hacer una BotNet, ya que no dispongo de tales ordenadores como para hacerlo, y evidentemente, no lo haré de forma ilegal.</p>

<h2>Como se hace este ataque?</h2>

<p>Hay muchos programas para utilizar, yo para este ejemplo, utilizaré LOIC (Low Orbit Ion Cannon), es un programa que se utiliza por los Administradores de Sistema para “estresar” un servidor web enviando un gran número de peticiones, de esta forma, el Administrador se puede hacer una idea de cuantos clientes pueden visitar una web sin que esta se colapse, este progrma se puede utilizar de forma “lícita” o de forma ilegal, yo, para evitar problemas legales, el “Proof of Concept” lo haré con un servidor web local.</p>

<p>LOIC lo utilizaré en una máquina virtual windows (windows 10), dejo el enlace de descarga:</p>

<ul>
  <li><a href="https://sourceforge.net/projects/loic/">https://sourceforge.net/projects/loic/</a></li>
</ul>

<p><strong>Especificaciones de la máquina virtual Windows 10</strong></p>

<ul>
  <li>RAM -&gt; <strong>6000 MB</strong> (6GB)</li>
  <li>Procesadores -&gt; <strong>8</strong></li>
  <li>Espacio en Disco Duro -&gt; <strong>100 GB</strong></li>
</ul>

<p>Como servidor web, utilizaré un servidor apache normal, el host será una máquina kali.</p>

<p><strong>Especificaciones de la máquina virtual Kali Linux</strong></p>

<ul>
  <li>RAM -&gt; <strong>5000 MB</strong> (5GB)</li>
  <li>Procesadores -&gt; <strong>4</strong></li>
  <li>Espacio en Disco Duro -&gt; <strong>80 GB</strong></li>
</ul>

<p>Vamos a empezar con el “Overview” en la máquina Windows. Vemos que los paquetes ICMP no tardan mas de 1ms, esto es normal dado que estamos en una red local:</p>

<p><img src="/assets/images/dos/icmp_requests.png" alt="" /></p>

<p>Ahora, vamos a ver que tal se comporta el servidor cuando inciamos el LOIC.</p>

<p><img src="/assets/images/dos/LOIC_started.png" alt="" /></p>

<p>Hay que tener en cuenta que la configuración de componentes de las 2 máquinas es desigual, ya que la máquina Windows cuenta con 8 procesadores y 6 GB de RAM y la máquina Kali cuenta con 5 GB y 4 procesadores. Igualmente, en la imagen, se puede comprobar que ha habido momentos en los que el servidor no respondía, en este caso, como es una máquina virtual, no le he podido poner mas “threads” (cuantos mas se pongan, mas alta será la posibilidad de tumbar la web). Si le poneis mejores especificaciones a la MV podréis probarlo mas “a lo grande”.</p>

<p>Ahora, vamos a ver que ha pasado por detrás en los logs del apache. La ruta en Linux es “/var/log/apache2/access.log”.</p>

<p><img src="/assets/images/dos/connections_1.png" alt="" /></p>

<p><img src="/assets/images/dos/a_cat.png" alt="" /></p>

<p>Podemos ver que hay momentos en los que el servidor no ha podido capturar todas las requests, estos mensajes de “A cat is fine too” han salido ya que es el mensaje que envía LOIC al servidor de forma continua. La parte que no cargaba la web eran momentos puntuales por lo que he comentado antes, no són máquinas con grandes especificaciones y para tumbar una web se necesitas mejores componentes en el PC.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#denial-of-service" class="page__taxonomy-item" rel="tag">Denial of Service</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#dos" class="page__taxonomy-item" rel="tag">dos</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-09-03T00:00:00+02:00">September 03, 2021</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/curl/" class="pagination--pager" title="simpleCurlScan
">Previous</a>
    
    
      <a href="/bloodhound/" class="pagination--pager" title="BloodHound
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Eric Labrador</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
